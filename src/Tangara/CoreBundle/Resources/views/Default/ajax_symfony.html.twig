<!DOCTYPE html>
<html>
  <head>
  <style>
  button {
	width:150px;
	margin-top: 10px;
  }
  #title {
	  float:left;
	  position: relative;
  }
  #myDiv2 {
	  float:left;
	  position: relative;
  }
  
  </style>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.js"></script>
    <script>
  function getTangaraFiles()
{
		$.ajax({
		type: "GET",
		dataType: "json",
		url: "http://localhost/tangara-ui/web/app_dev.php/tangarajs/getresources/1/1",
		error:function(msg){
			alert( "Error !: " + msg );
		},
		success:function(data){
			var items = [];
			 $.each( data, function( key, val ) {
			items.push( "<li id='" + key + "'>" + val + "</li>" );
			});
			
			$( "<ul/>", {
			"class": "my-new-list",
			html: items.join( "" )
			}).appendTo( "#myDiv" );
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
}
  function createProgram()
{
    var file = "ajax_info.txt";
	$.post("http://localhost/tangara-ui/web/app_dev.php/project/upload", {file:file}, function(data){
        $('#zoneReponse').html(data);
    });
}
  function sendProgramToSave()
{
	
	$('#file').submit(function(event) {
        event.preventDefault();
	$.post("http://localhost/tangara-ui/web/app_dev.php/project/upload", {
	file:file,
	}, function(data){
        
		$('#myDiv').append("<ul><li>" + data + "</li></ul>");
    });
      });
	
}
  function getProgramContent()
{
		$.ajax({
		type: "GET",
		url: "http://localhost/tangara-ui/web/app_dev.php/locale",
		success:function(data){
			$( "#myDiv" ).html(data);
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
}
  function getProjectResources()
{
		$.ajax({
		type: "GET",
		dataType: "json",
		url: "http://localhost/tangara-ui/web/app_dev.php/project/getContent?=fichier.tgr",
		error:function(msg){
			alert( "Error !: " + msg );
		},
		success:function(data){
			var items = [];
			 $.each( data, function( key, val ) {
			items.push( "<li id='" + key + "'>" + val + "</li>" );
			});
			
			$( "<ul/>", {
			"class": "my-new-list",
			html: items.join( "" )
			}).appendTo( "#myDiv" );
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
}
  function getResources()
{
		$.ajax({
		type: "GET",
		dataType: "json",
		url: "http://localhost/tangara-ui/web/app_dev.php/project/getContent?=fichier.tgr",
		error:function(msg){
			alert( "Error !: " + msg );
		},
		success:function(data){
			var items = [];
			 $.each( data, function( key, val ) {
			items.push( "<li id='" + key + "'>" + val + "</li>" );
			});
			
			$( "<ul/>", {
			"class": "my-new-list",
			html: items.join( "" )
			}).appendTo( "#myDiv" );
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
}
  function getlocale()
{
		$.ajax({
		type: "GET",
		dataType: "json",
		url: "http://localhost/tangara-ui/web/app_dev.php/locale",
		error:function(msg){
			alert( "Error !: " + msg );
		},
		success:function(data){
			var items = [];
			 $.each( data, function( key, val ) {
			items.push( "<li id='" + key + "'>" + val + "</li>" );
			});
			$( "<ul/>", {
			"class": "my-new-list",
			html: items.join( "" )
			}).appendTo( "#myDiv" );
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
}
  function clearDiv()
{
	$('#myDiv').empty();
}

    function removeFile(){
        
        $.ajax({
		type: "POST",
		dataType: "json",
		url: "http://localhost/tangara-ui/web/app_dev.php/project/data",
                data: "fileName=" + fileName,
		error:function(msg){
			alert( "Error !: " + msg );
		},
		success:function(data){
			var items = [];
			 $.each( data, function( key, val ) {
			items.push( "<li id='" + key + "'>" + val + "</li>" );
			});
			
			$( "<ul/>", {
			"class": "my-new-list",
			html: items.join( "" )
			}).appendTo( "#myDiv" );
			//affiche le contenu du fichier dans le conteneur d�di�
			//$('#contenu_fichier_ajax').html(data);
		}});
    }
</script>
    <title></title>
  </head>
  <body>
  
    <div id="title">
      <h2>Actions</h2>

    <button type="button" onclick="getTangaraFiles()">getTangaraFiles</button>
	<br/>
    <button type="button" onclick="createProgram()">createProgram</button>
	<br/>
    <button type="button" onclick="getProgramContent()">getProgramContent</button>
	<br/>
    <button type="button" onclick="getProjectResources()">getProjectResources</button>
	<br/>
    <button type="button" onclick="getResource()">getResource</button>
	<br/>
	<button type="button" onclick="getlocale()">getLocale</button>
	<br/>
    <button type="button" onclick="clearDiv()">clearDiv</button>
	<br/>
      <button type="button" onclick="removeFile()">removeFile</button>
	</div>
	

    
	<div id="myDiv2">
      <h2>Ajax Results</h2>
	  <div id="myDiv">
		<h2>Let AJAX change this text</h2>
    </div>
    </div>
  </body>
</html>


